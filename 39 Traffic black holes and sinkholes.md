- There are lots of traffic inspection methods, and they all have one thing in common: they take up resources
- During a DoS attack, it may not be a great idea to spend all those CPU cycles on inspecting traffic that's aimed to break our stuff - eventually everything will be overloaded, and good traffic won't be able to get through
- This is where sinkholes come in - simply dropping traffic based on some fairly simple conditions
- This functionality can be configured on the routing device, but in this case matching bad traffic becomes difficult, and this approach is not effective against DDoS

### Black hole

- Dropping traffic we don't want
- Mitigating DoS, DDoS if matching is possible
- Cisco devices have `null0`, Linux can direct to `/dev/null`
	- Can drop useful traffic as well
- Large networks have dedicated devices whose purpose is dealing with DoS
	- The idea is dropping traffic at wire speed (at the speed of the connection) rather than at CPU speed. The CPU will likely become a bottleneck
- Anti-DDoS solution example:
	- FortiDDoS by Fortinet (physical appliance, VM) - involves ML, can work on layers 3, 4, and 7

### Sinkhole

- Pretty much the same as a blackhole, but with the ability to retain some of the dropped traffic for future analysis
- Relies on a packet capturing system
- Redirect the traffic to a specific analysis server or a honeynet, store it there, analyze it
- **Exam**: DNS sinkhole
	- Relies on a DNS reconfiguration in order to drop malicious traffic, and it can be performed in two different directions
		- Inbound (internet -> our network), which basically means poisoning our own DNS servers to make the traffic trying to reach them go elsewhere; this will include legit traffic as well
		- Outbound (our network -> internet) - configuring our DNS to redirect or drop our own traffic, initiated from the internal network, in case some of it is trying to reach a C2 server; dropping traffic generated by *our own* compromised hosts so that it can't reach the attacker

### ISP anti-DDoS

- Both blackholes and sinkholes work better when involving the ISP since filtering traffic at the ISP level is a lot more efficient than on a local network's edge. It can also allow legitimate traffic to reach our org
- Some vendors allow you to deploy a virtual appliance paired with a physical one on our network. Once DDoS traffic is detected, the local appliance communicates with the virtual one installed in the ISP's cloud. This allows ISP-side filtering

--- 

### Exam

Know the difference between blackholes and sinkholes, know what a DNS sinkhole is and how it works, be aware of on-prem and ISP-enabled anti-DDoS solutions